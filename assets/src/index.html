<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="../forge/all.js"></script>
		<script src="js/jquery-1.7.2.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="http://da189i1jfloii.cloudfront.net/js/kinvey-js-0.9.14.min.js"></script>
		<script src="js/fetchnotes.js"></script>
		<script src="js/database.js"></script>
		<link href="css/bootstrap.css" rel="stylesheet">
		<link href="css/bootstrap-responsive.css" rel="stylesheet">
		<script>

		forge.internal.call("database.createTables",{schema: window.tables},
		function(){
			var db = new Database();

			var models = [
				new Kinvey.Entity({
					text: '#email your mother bout caves. and #gold',
					entities:{hashtags:["#gold", "email"]},
					id: "fosidfjoai",
				},'notes'),
				new Kinvey.Entity({
					text: 'mmmmmmmm... #gold',
					entities:{hashtags:["#gold"]},
					id: "fosasdfoai"
				},'notes'),
				new Kinvey.Entity({
					text: '#todo eat some #gold #bars to get your fiber',
					entities:{hashtags:["#todo", "#gold", "#bars"]},
					id: "fdsoai"
				},'notes'),
				new Kinvey.Entity({
					text: 'sb#email foo hundred #bars',
					entities:{hashtags:["#email", "#bars"]},
					id: "fdsapeshiti"
				},'notes'),
				new Kinvey.Entity({
					text: '#woot yeah',
					entities:{hashtags:["#woot"]},
					id: "lolsecksi"
				},'notes')
			];

			var modelsArray = models.slice(0,3);
			var model = models[4];

			db.callAsync([
				{
					method: 'notes.update',
					model:
					options:{
						dirty: true,
						success: function(poo){
							console.log(poo);
						}
					}
				},
				{
					method: 'notes.create',
					model: new Kinvey.Entity({
						text: '#todo eat some #gold #bars to get your fiber',
						entities:{hashtags:["#todo", "#gold", "#bars"]},
						id: "fdsoai",
					},'notes'),
					options:{
						dirty: true,
						success: function(poo){
							console.log(poo);
						}
					}
				},*/
				{
					method: 'notes.get'
				},
				{
					method: 'hashtags.get'

				},
				//What the fuck figure out why no recur
				{
					method: 'hashtags.get',
					options: {
						hashtags:["#email"]
					}
				}
			], db);

		});


		</script>
	</head>
	<body>
		<div class="container">
			<div class="page-header">
				<h1>Input  <small>choose an API call to make</small></h1>
			</div>
			<textarea id="search-notes" placeholder= "Search Notes" /></textarea>
			<div class="form-horizontal">
					<div class="control-group">
						<label class="control-label" for="_module">Module</label>
						<div class="controls">
							<select id="_module">
							</select>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="_method">Method</label>
						<div class="controls">
							<select id="_method">
							</select>
						</div>
					</div>
					<div class="form-actions" id="_actions">
						<button type="submit" class="btn btn-primary" id="_run">Run!</button>
					</div>
			</div>
			<div class="page-header">
				<h1>Output <small>results from the API call, most recent at the top</small></h1>
			</div>
			<div id="_output">
			</div>
		</div>
	</body>
</html>
